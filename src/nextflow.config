//Enable trace by default
trace.enabled = true

params {
  global_executor = 'local'
  cpu = 12
  memory = "32GB"
  params.gzip = "/usr/bin/gzip"
  params.pigz = "/usr/bin/pigz"

  pbs_header = "
  source /usr/share/modules/init/bash
  module use /applis/PSMN/Modules
  module load Base/psmn
  umask 002
  ls ."
}

process {
  $get_pigz_version {
  executor = "local"
    cpus = 1
    memory = "1GB"
    time = "1h"
  }
  $get_gzip_version {
  executor = "local"
    cpus = 1
    memory = "1GB"
    time = "1h"
  }
}

executor {
  $sge {
    queueSize = 1000
    pollInterval = '30sec'
    queue = 'E5-2670deb128*'
    penv = 'mpi16_debian 16'
    clusterOptions = ''
  }
  $local {
    cpus = ${params.cpu}
    memory = ${params.memory}
  }
}

docker {
  temp = 'auto'
  enabled = false
  runOptions = "--cpus=\"${params.cpu}\" --memory=\"${params.memory}\""
}

profiles {
  standard {
    process.executor = 'local'
    queueSize = 10
    pollInterval = '1sec'
  }
  cluster {
    process.executor = 'sge'
    process.queue = 'long'
    process.memory = '10GB'
    queueSize = 100
    pollInterval = '30sec'
  }
}
